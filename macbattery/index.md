# 完美黑苹果终局：松下sz6 0x6d补丁修复睡眠秒醒问题

## 避实就虚

上文提到了，sz6会被xdci项目参数每分钟不断唤醒（也就是没有深度定制USB导致的接口程序识别紊乱），导致没办法进入深睡眠，在不断查阅相关资料的过程中，了解到大概有两种解决方式，一种是**一刀切式**的通过*SSDT-GPRW.dsl*进行全权重命名，屏蔽所有USB接口，另外一种则是自行定制和屏蔽接口。虽然前文我讲过，黑苹果的定制是一个需要以深度定制为主的工作流，但是我不得不承认，在解决睡眠问题上，**我更愿意用通法**。使用一刀切式重命名屏蔽代价仅仅是只能使用电源键去唤醒电脑，而深度定制USB则需要花费成倍数增长的工作量。下面分享一下过程。

---

以下过程大部分参考[本文](https://blog.xjn819.com/post/opencore-guide.html)。

1. 获取一份SSDT-GPRW.dsl文件，这份文件是具有高度通用性的。
2. 使用MaciASL软件打开SSDT-GPRW.dsl，不要改动文件的任何内容，另存为aml文件。
3. 将获取到的文件置入EFI/OC/ACPI文件夹内。并在opencore配置软件的gui中启用
4. 在patch补丁选项卡下设置好重命名的参数，由于教程文给的是代码块：

```
Comment: GPRW to XPRW
Count:0
Enabled:YES
Find:<4750525702>
Limit:0
Mask:<>
OemTable:<>
Replace:<5850525702>
ReplaceMask:<>
Skip:0
TableLength:0
TableSignature:<>
```

这段东西转译一下到oc的gui里面大概是这样的：(最后一个项目）

![](/img1/scrconfig.png)

然后就解决了，最后还意外发现屏蔽了USB接口之后还支持开盖唤醒，看来是光感发力了。于是本黑苹果基本完美，除了触控板没手势之外其他基本可以正常日用。

